/* Arcaea Online Chart Constant Helper - Styles */

/* 全局防止横向溢出 */
html, body {
  overflow-x: hidden !important;
  max-width: 100vw !important;
  box-sizing: border-box !important;
}

*, *::before, *::after {
  box-sizing: border-box !important;
}

/* 图表信息容器 */
.arcaea-chart-info {
  display: inline-block;
  white-space: nowrap;
  margin-left: 4px;
  flex-shrink: 0;
  vertical-align: middle;
}

/* 定数显示样式 */
.arcaea-chart-constant {
  color: #9ca3af;
  font-size: 0.9em;
  font-weight: normal;
  opacity: 0.8;
  transition: opacity 0.2s ease;
  white-space: nowrap;
  display: inline;
}

.arcaea-chart-constant:hover {
  opacity: 1;
}

/* 单曲PTT显示样式 */
.arcaea-play-ptt {
  color: #667eea;
  font-size: 0.9em;
  font-weight: 700;
  margin-left: 2px;
  white-space: nowrap;
  display: inline;
  transition: color 0.2s ease;
}

.arcaea-play-ptt:hover {
  color: #764ba2;
}

/* 总PTT显示样式 */
.arcaea-total-ptt {
  color: #667eea;
  font-size: 0.9em;
  font-weight: 700;
  margin-left: 8px;
  white-space: nowrap;
  display: inline-block;
  transition: all 0.3s ease;
  overflow: visible !important;
  flex-shrink: 0;
}

.arcaea-total-ptt:hover {
  color: #764ba2;
  transform: scale(1.05);
}

/* 确保 experince 容器允许换行，并与下方日期保持间距 */
.experince,
[class*="experince"],
div[class*="experince"] {
  flex-wrap: wrap !important;
  margin-bottom: 8px !important;
}

/* 目标分数显示样式 */
.arcaea-target-score {
  color: #10b981;
  font-size: 0.85em;
  font-weight: 600;
  margin-top: 2px;
  margin-bottom: 0;
  text-align: left;
  white-space: nowrap;
  transition: all 0.2s ease;
  font-family: 'Titillium Web', sans-serif;
  display: block !important;
  width: 100% !important;
  flex-basis: 100% !important;
  order: 999 !important;
}

.arcaea-target-score:hover {
  color: #059669;
  transform: scale(1.05);
}

/* 确保定数的父容器允许内容正常显示 */
.arcaea-total-ptt {
  color: #667eea;
  font-size: 0.9em;
  font-weight: 700;
  margin-left: 8px;
  white-space: nowrap;
  display: inline-block;
  transition: all 0.3s ease;
}

.arcaea-total-ptt:hover {
  color: #764ba2;
  transform: scale(1.05);
}

/* 确保定数的父容器允许内容正常显示 */
.no-overflow + .arcaea-chart-info,
span.no-overflow ~ .arcaea-chart-info {
  overflow: visible !important;
  text-overflow: clip !important;
}

/* 确保标题容器使用 flex 布局，以便定数能正确显示在旁边 */
.no-overflow {
  display: inline-block;
  vertical-align: middle;
}

/* 卡片序号样式 - Best 30 默认紫色 */
.arcaea-card-index {
  position: absolute;
  top: 8px;
  left: 8px;
  font-size: 14px;
  font-weight: 700;
  color: #ffffff;
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.9) 0%, rgba(118, 75, 162, 0.9) 100%);
  padding: 4px 8px;
  border-radius: 6px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  z-index: 10;
  line-height: 1;
  transition: all 0.3s ease;
  backdrop-filter: blur(5px);
}

.arcaea-card-index:hover {
  transform: scale(1.1);
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}

/* Recent 10 序号使用橙红色渐变 */
.arcaea-card-index[data-recent="true"] {
  background: linear-gradient(135deg, rgba(234, 88, 12, 0.9) 0%, rgba(220, 38, 38, 0.9) 100%);
}

.arcaea-card-index[data-recent="true"]:hover {
  box-shadow: 0 4px 12px rgba(234, 88, 12, 0.4);
}

/* B30 和 R10 之间的换行间距 */
.arcaea-section-divider {
  grid-column: 1 / -1;
  width: 100%;
  height: 40px;
}

/* 确保定数显示不会破坏原有布局 */
.song-title .arcaea-chart-constant,
.title .arcaea-chart-constant,
[class*="title"] .arcaea-chart-constant {
  display: inline;
  white-space: nowrap;
}

/* ========================================
   PC 端响应式双列布局优化
   ======================================== */

/* 移除手机端最大宽度限制，让页面在 PC 上自适应浏览器宽度 */
@media (min-width: 768px) {
  /* 主容器 - 移除 600px 的宽度限制 */
  .player-site-content,
  section.player-site-content,
  [data-v-0751cfe2].player-site-content,
  section[data-v-0751cfe2].player-site-content {
    max-width: 100% !important;
    width: 100% !important;
    overflow-x: hidden !important;
    box-sizing: border-box !important;
  }

  /* 隐藏 POTENTIAL SVG 标题 */
  .hexagon-title,
  [data-v-8fecbf4d].hexagon-title,
  div[data-v-8fecbf4d].hexagon-title,
  span[data-v-8fecbf4d][data-v-337fbd7d] {
    display: none !important;
  }

  /* 缩小顶部 Banner 高度 */
  .banner.castle-banner,
  .castle-banner,
  [data-v-9c5f8fc8].banner.castle-banner,
  div[data-v-9c5f8fc8].banner.castle-banner {
    height: 180px !important;
    min-height: 180px !important;
  }

  /* 缩小 Banner 的渐变遮罩高度 */
  .castle-banner::after,
  [data-v-9c5f8fc8].castle-banner::after {
    height: 180px !important;
  }

  /* 内容区域整体布局 */
  .content,
  [data-v-337fbd7d].content,
  div[data-v-337fbd7d].content {
    max-width: 100% !important;
    width: 100% !important;
    margin: 0 auto !important;
    padding: 0 20px !important;
    box-sizing: border-box !important;
    overflow-x: hidden !important;
  }

  /* 用户信息卡片主体 - 缩小并居中 */
  .card-main-user,
  [class*="CardMainUser"],
  [class*="card-main-user"],
  [data-v-f7bc1a70].card-main-user,
  div[data-v-f7bc1a70].main-card {
    max-width: 450px !important;
    margin: 20px auto !important;
    transform: scale(0.75) !important;
    transform-origin: top center !important;
    overflow: visible !important;
  }

  /* 用户名区域 - 确保内容完整显示，不产生滚动 */
  .main-card .user,
  .card-main-user .user,
  [data-v-f7bc1a70].main-card .user,
  [data-v-f7bc1a70] .user,
  div[data-v-f7bc1a70].main-card .user,
  div[data-v-f7bc1a70] .user,
  [class*="CardMainUser"] .user,
  [class*="card-main-user"] .user {
    overflow: visible !important;
    overflow-x: visible !important;
    overflow-y: visible !important;
    height: auto !important;
    max-height: none !important;
    min-height: auto !important;
    white-space: normal !important;
    flex-wrap: wrap !important;
    display: flex !important;
    align-items: center !important;
    gap: 4px !important;
  }

  /* 用户名文本 */
  .user .username,
  .user > .username,
  [data-v-f7bc1a70] .user .username,
  [data-v-f7bc1a70] .user > .username,
  span.username,
  [data-v-337fbd7d] .username {
    overflow: visible !important;
    text-overflow: clip !important;
    white-space: nowrap !important;
    display: inline-block !important;
  }

  /* 用户头像 - 进一步缩小 */
  .profile-image,
  [data-v-f7bc1a70].profile-image,
  div[data-v-f7bc1a70].profile-image {
    width: 120px !important;
    height: 120px !important;
    min-width: 120px !important;
    min-height: 120px !important;
  }

  /* 头像内的钻石和 Potential 值 - 同步缩小 */
  .profile-image .diamond,
  [data-v-f7bc1a70].profile-image .diamond,
  div[data-v-f7bc1a70].profile-image .diamond {
    transform: scale(0.85) !important;
  }

  /* 图表区域 - 限制宽度（通过 JS 控制显示/隐藏）*/
  .diagram-section,
  [data-v-337fbd7d].diagram-section,
  div[data-v-337fbd7d].diagram-section {
    max-width: 100% !important;
    overflow: visible !important;
  }

  /* 下载按钮容器 - 限制宽度 */
  .download-container,
  [data-v-337fbd7d].download-container,
  div[data-v-337fbd7d].download-container {
    max-width: 500px !important;
    width: 50% !important;
    margin: 20px auto 0 !important;
  }

  /* 隐藏标题文字 */
  .title,
  [data-v-337fbd7d].title,
  div[data-v-337fbd7d].title,
  span[data-v-337fbd7d].title {
    display: none !important;
  }

  /* 隐藏分隔线 */
  .line-dark,
  [data-v-337fbd7d].line-dark,
  div[data-v-337fbd7d].line-dark,
  img[data-v-337fbd7d].line-dark {
    display: none !important;
  }

  /* 内容区域 gap - 减小间距 */
  .content,
  [data-v-337fbd7d].content,
  div[data-v-337fbd7d].content {
    gap: 20px !important;
  }

  /* 卡片列表 - 改为网格布局（覆盖原来的 flex-direction: column） */
  .card-list,
  [data-v-337fbd7d].card-list,
  div[data-v-337fbd7d].card-list {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 20px !important;
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 auto !important;
    padding: 10px 20px 40px 20px !important;
    box-sizing: border-box !important;
  }

  /* 卡片容器 - 禁用网格布局，避免与card-list冲突 */
  .card-container,
  [data-v-b3942f14].card-container,
  div[data-v-b3942f14].card-container {
    display: block !important;
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* 单个卡片 - 移除 margin-bottom，因为已经有 grid gap */
  .card,
  [data-v-337fbd7d].card,
  [data-v-b3942f14].card,
  div[data-v-337fbd7d].card,
  div[data-v-b3942f14].card {
    margin-bottom: 0 !important;
    width: 100% !important;
    box-sizing: border-box !important;
    max-width: 100% !important;
  }

  /* 用户信息卡片 - 保持居中但适度增宽 */
  .card-main-user,
  [class*="user-card"],
  [class*="profile-card"] {
    max-width: 700px !important;
    margin: 0 auto 30px auto !important;
  }

  /* 横幅区域 */
  .banner,
  [class*="banner"] {
    max-width: 100% !important;
  }
}

/* 大屏幕（>=1200px）- 三列布局 */
@media (min-width: 1200px) {
  .content,
  [data-v-337fbd7d].content,
  div[data-v-337fbd7d].content {
    max-width: 100% !important;
    width: 100% !important;
    padding: 0 30px !important;
    box-sizing: border-box !important;
  }

  .card-list,
  [data-v-337fbd7d].card-list,
  div[data-v-337fbd7d].card-list {
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 24px !important;
    width: 100% !important;
    max-width: 100% !important;
    padding: 10px 30px 40px 30px !important;
  }

  .card-container,
  [data-v-b3942f14].card-container,
  div[data-v-b3942f14].card-container {
    display: block !important;
    width: 100% !important;
  }
}

/* 超宽屏幕（>=1600px）- 四列布局 */
@media (min-width: 1600px) {
  .content,
  [data-v-337fbd7d].content,
  div[data-v-337fbd7d].content {
    max-width: 100% !important;
    padding: 0 40px !important;
  }

  .card-list,
  [data-v-337fbd7d].card-list,
  div[data-v-337fbd7d].card-list {
    grid-template-columns: repeat(4, 1fr) !important;
    gap: 28px !important;
    width: 100% !important;
    max-width: 100% !important;
    padding: 10px 40px 40px 40px !important;
  }

  .card-container,
  [data-v-b3942f14].card-container,
  div[data-v-b3942f14].card-container {
    display: block !important;
    width: 100% !important;
  }
}

/* ========================================
   Pure、Far、Lost 显示优化 - 纯文字格式
   ======================================== */

/* 隐藏钻石框图片 */
.cleartype-diamond .relative-container .diamond,
[data-v-fddc86df].cleartype-diamond .relative-container .diamond,
.cleartype-diamond[data-v-fddc86df] .relative-container .diamond {
  display: none !important;
}

/* 移除容器的transform */
.cleartype-diamond .relative-container,
[data-v-fddc86df].cleartype-diamond .relative-container,
.cleartype-diamond[data-v-fddc86df] .relative-container {
  transform: none !important;
  position: static !important;
  width: 100% !important;
}

/* 调整内容容器为纯文字显示 */
.cleartype-diamond .relative-container .content,
[data-v-fddc86df].cleartype-diamond .relative-container .content,
.cleartype-diamond[data-v-fddc86df] .relative-container .content {
  position: static !important;
  width: 100% !important;
  left: auto !important;
  top: auto !important;
  transform: none !important;
  text-align: center !important;
}

/* 分数数字样式 - 加粗，颜色继承判定名 */
.cleartype-diamond .relative-container .content .score,
[data-v-fddc86df].cleartype-diamond .relative-container .content .score,
.cleartype-diamond[data-v-fddc86df] .relative-container .content .score {
  font-size: 16px !important;
  font-weight: 700 !important;
  color: inherit !important;
  text-align: center !important;
  display: block !important;
  margin: 0 !important;
  padding: 0 !important;
  background: inherit !important;
  -webkit-background-clip: text !important;
  background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
}

/* Pure 数字渐变色 */
.p-pure + .cleartype-diamond .relative-container .content .score,
.column:has(.p-pure) .cleartype-diamond .relative-container .content .score {
  background: -webkit-linear-gradient(#9b1691, #4176b9) !important;
  -webkit-background-clip: text !important;
  background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
}

/* Far 数字渐变色 */
.p-far + .cleartype-diamond .relative-container .content .score,
.column:has(.p-far) .cleartype-diamond .relative-container .content .score {
  background: -webkit-linear-gradient(#b86800, #d29400) !important;
  -webkit-background-clip: text !important;
  background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
}

/* Lost 数字渐变色 */
.p-lost + .cleartype-diamond .relative-container .content .score,
.column:has(.p-lost) .cleartype-diamond .relative-container .content .score {
  background: -webkit-linear-gradient(#de0b4c, #633348) !important;
  -webkit-background-clip: text !important;
  background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
}

/* 调整列布局以适应纯文字 */
.card .album-data .score .column,
[data-v-b3942f14].card .album-data .score .column,
div[data-v-b3942f14].card .album-data .score .column {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  gap: 4px !important;
}

/* 标签样式优化 */
.card .album-data .score .column p,
[data-v-b3942f14].card .album-data .score .column p {
  margin: 0 0 2px 0 !important;
  font-size: 13px !important;
}

/* 移动端（<768px）- 保持单列原始布局 */
@media (max-width: 767px) {
  /* 移动端不做任何改动，保持原始样式 */
}

/* ========================================
   曲绘图片统一大小
   ======================================== */

/* 统一所有卡片中的曲绘尺寸 */
.section-2,
[data-v-b3942f14] .section-2,
div[data-v-b3942f14] .section-2,
[class*="section-2"] {
  width: 100% !important;
  height: auto !important;
  aspect-ratio: 1 / 1 !important;
  overflow: hidden !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  border-radius: 8px !important;
  background: rgba(0, 0, 0, 0.05) !important;
}

.section-2 img,
[data-v-b3942f14] .section-2 img,
div[data-v-b3942f14] .section-2 img,
[class*="section-2"] img {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  object-position: center !important;
  display: block !important;
  border-radius: 8px !important;
}

/* ========================================
   卡片渐变背景样式
   ======================================== */

/* 隐藏外层卡片的样式 */
[data-v-337fbd7d].card,
div[data-v-337fbd7d].card {
  background: transparent !important;
  border-radius: 0 !important;
  padding: 0 !important;
  box-shadow: none !important;
  border: none !important;
}

/* 只为内层卡片添加渐变圆角背景 */
[data-v-b3942f14].card,
div[data-v-b3942f14].card {
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.12) 100%) !important;
  border-radius: 16px !important;
  padding: 16px !important;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1), 0 0 40px rgba(102, 126, 234, 0.06) !important;
  transition: all 0.3s ease !important;
  backdrop-filter: blur(10px) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* 内层卡片悬停效果 */
[data-v-b3942f14].card:hover,
div[data-v-b3942f14].card:hover {
  transform: translateY(-4px) !important;
/* 根据难度等级调整卡片渐变色 - 只针对内层卡片 */
/* PST (Past) - 蓝绿色 */
[data-v-b3942f14].card:has(.label:is([class*="PST"], [class*="PAST"])),
div[data-v-b3942f14].card:has(span.label:is([class*="pst"], [class*="past"])) {
  background: linear-gradient(135deg, rgba(106, 175, 185, 0.08) 0%, rgba(76, 145, 165, 0.12) 100%) !important;
}

[data-v-b3942f14].card:has(.label:is([class*="PST"], [class*="PAST"])):hover,
div[data-v-b3942f14].card:has(span.label:is([class*="pst"], [class*="past"])):hover {
  background: linear-gradient(135deg, rgba(106, 175, 185, 0.12) 0%, rgba(76, 145, 165, 0.16) 100%) !important;
}

/* PRS (Present) - 绿色 */
[data-v-b3942f14].card:has(.label:is([class*="PRS"], [class*="PRESENT"])),
div[data-v-b3942f14].card:has(span.label:is([class*="prs"], [class*="present"])) {
  background: linear-gradient(135deg, rgba(131, 180, 115, 0.08) 0%, rgba(101, 150, 85, 0.12) 100%) !important;
}

[data-v-b3942f14].card:has(.label:is([class*="PRS"], [class*="PRESENT"])):hover,
div[data-v-b3942f14].card:has(span.label:is([class*="prs"], [class*="present"])):hover {
  background: linear-gradient(135deg, rgba(131, 180, 115, 0.12) 0%, rgba(101, 150, 85, 0.16) 100%) !important;
}

/* FTR (Future) - 紫色 */
[data-v-b3942f14].card:has(.label:is([class*="FTR"], [class*="FUTURE"])),
div[data-v-b3942f14].card:has(span.label:is([class*="ftr"], [class*="future"])) {
  background: linear-gradient(135deg, rgba(138, 122, 165, 0.08) 0%, rgba(108, 92, 135, 0.12) 100%) !important;
}

[data-v-b3942f14].card:has(.label:is([class*="FTR"], [class*="FUTURE"])):hover,
div[data-v-b3942f14].card:has(span.label:is([class*="ftr"], [class*="future"])):hover {
  background: linear-gradient(135deg, rgba(138, 122, 165, 0.12) 0%, rgba(108, 92, 135, 0.16) 100%) !important;
}

/* BYD (Beyond) - 红色 */
[data-v-b3942f14].card:has(.label:is([class*="BYD"], [class*="BEYOND"])),
div[data-v-b3942f14].card:has(span.label:is([class*="byd"], [class*="beyond"])) {
  background: linear-gradient(135deg, rgba(186, 14, 107, 0.08) 0%, rgba(156, 0, 77, 0.12) 100%) !important;
}

[data-v-b3942f14].card:has(.label:is([class*="BYD"], [class*="BEYOND"])):hover,
div[data-v-b3942f14].card:has(span.label:is([class*="byd"], [class*="beyond"])):hover {
  background: linear-gradient(135deg, rgba(186, 14, 107, 0.12) 0%, rgba(156, 0, 77, 0.16) 100%) !important;
}

/* ETR (Eternal) - 金紫色 */
[data-v-b3942f14].card:has(.label:is([class*="ETR"], [class*="ETERNAL"])),
div[data-v-b3942f14].card:has(span.label:is([class*="etr"], [class*="eternal"])) {
  background: linear-gradient(135deg, rgba(138, 122, 165, 0.1) 0%, rgba(186, 14, 107, 0.1) 50%, rgba(138, 122, 165, 0.14) 100%) !important;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1), 0 0 40px rgba(186, 14, 107, 0.08) !important;
}

[data-v-b3942f14].card:has(.label:is([class*="ETR"], [class*="ETERNAL"])):hover,
div[data-v-b3942f14].card:has(span.label:is([class*="etr"], [class*="eternal"])):hover {
  background: linear-gradient(135deg, rgba(138, 122, 165, 0.14) 0%, rgba(186, 14, 107, 0.14) 50%, rgba(138, 122, 165, 0.18) 100%) !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15), 0 0 60px rgba(186, 14, 107, 0.15) !important;
}

/* ========================================
   图表展开/收起功能
   ======================================== */

/* 切换按钮样式 */
.arcaea-chart-toggle {
  display: block;
  margin: 20px auto;
  padding: 10px 24px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
  outline: none;
}

.arcaea-chart-toggle:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}

.arcaea-chart-toggle:active {
  transform: translateY(0);
  box-shadow: 0 2px 6px rgba(102, 126, 234, 0.3);
}

/* 图表收起状态 - 使用更高优先级确保生效 */
.arcaea-chart-collapsed,
[data-v-337fbd7d].arcaea-chart-collapsed,
div[data-v-337fbd7d].arcaea-chart-collapsed,
.diagram-section.arcaea-chart-collapsed,
[data-v-337fbd7d].diagram-section.arcaea-chart-collapsed,
div[data-v-337fbd7d].diagram-section.arcaea-chart-collapsed {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  height: 0 !important;
  overflow: hidden !important;
}

/* 确保切换按钮在各种屏幕尺寸下居中 */
@media (min-width: 768px) {
  .arcaea-chart-toggle {
    max-width: 200px;
  }
}
